pico-8 cartridge // http://www.pico-8.com
version 28
__lua__
--[[
  put mouse.init() in the _init()
  
  put the following in the _update loop
    mouse_x,mouse_y = mouse.pos()
	  mouse_btn = mouse.button()
  then use mouse_* variables for position and button clicks.
]]


function _init()
		cls()
  mouse.init()
  color=10
end


function _update()
  mouse_x,mouse_y = mouse.pos()
  mouse_btn = mouse.button()
  
  if mouse_btn==1 then color=flr(rnd(15))+1 end
end


function _draw()
  circfill(mouse_x,mouse_y, 3, color)  
end

mouse = {
  init = function()
    poke(0x5f2d, 1)
  end,
  -- return int:x, int:y, onscreen:bool
  pos = function()
    local x,y = stat(32)-1,stat(33)-1
    return stat(32)-1,stat(33)-1
  end,
  -- return int:button [0..4]
  -- 0 .. no button
  -- 1 .. left
  -- 2 .. right
  -- 4 .. middle
  button = function()
    return stat(34)
  end,
}
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
